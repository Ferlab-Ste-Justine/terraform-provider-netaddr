---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "netaddr_address_ipv4_v2 Resource - terraform-provider-netaddr"
subcategory: ""
description: |-
  Ipv4 address. Version 2 adds support for assignment from multiple ranges (useful if you get an extra range of ips from the same subnet later on).
---

# netaddr_address_ipv4_v2 (Resource)

Ipv4 address. Version 2 adds support for assignment from multiple ranges (useful if you get an extra range of ips from the same subnet later on).

## Example Usage

```terraform
resource "netaddr_range_ipv4" "range1" {
    key_prefix = "/test/ipv4/"
    first_address = "192.168.0.1"
    last_address = "192.168.0.64"
}

resource "netaddr_range_ipv4" "range2" {
    key_prefix = "/test/ipv4-extras/"
    first_address = "192.168.0.128"
    last_address = "192.168.0.254"
}

resource "netaddr_address_ipv4_v2" "test" {
    range_ids = [netaddr_range_ipv4.range1.id, netaddr_range_ipv4.range2.id]
    name = "test"
    hardcoded_address = "192.168.0.5"
}

resource "netaddr_address_ipv4_v2" "test2" {
    range_ids = [netaddr_range_ipv4.range1.id, netaddr_range_ipv4.range2.id]
    name = "test2"
}

output "test_addr" {
  value = netaddr_address_ipv4.test.address
}

output "test2_addr" {
  value = netaddr_address_ipv4.test2.address
}

//v1 to v2 Migration example
//Note that you can also use the retain_on_delete / manage_existing notation to add ranges in-place to v2 addresses

resource "netaddr_range_ipv4" "original" {
    key_prefix = "/original/ipv4/"
    first_address = "192.168.0.1"
    last_address = "192.168.0.64"
}

resource "netaddr_range_ipv4" "extra" {
    key_prefix = "/extra/ipv4-extras/"
    first_address = "192.168.0.128"
    last_address = "192.168.0.254"
}

//Removed content before migration
/*resource "netaddr_address_ipv4" "ip" {
    range_id = netaddr_range_ipv4.original.id
    name = "ip"
    hardcoded_address = "192.168.0.5"
    retain_on_delete = true
}

resource "netaddr_address_ipv4" "ip" {
    range_id = netaddr_range_ipv4.original.id
    name = "ip2"
    retain_on_delete = true
}*/

//Content after migration
resource "netaddr_address_ipv4_v2" "ip" {
    range_ids = [netaddr_range_ipv4.original.id, netaddr_range_ipv4.extra.id]
    name = "ip"
    hardcoded_address = "192.168.0.5"
    manage_existing = true
}

resource "netaddr_address_ipv4_v2" "ip" {
    range_ids = [netaddr_range_ipv4.original.id, netaddr_range_ipv4.extra.id]
    name = "ip2"
    manage_existing = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) Name to associate with the address.
- `range_ids` (Set of String) Identifiers of the address ranges the address is tied to.

### Optional

- `hardcoded_address` (String) An optional input to fixate the address to a specific value.
- `manage_existing` (Boolean) Whether the address is possibly present when the resource is created. Setting this to true allows you to import the existing address without error.
- `retain_on_delete` (Boolean) Whether to retain the address in etcd when the resource is deleted. Useful to set to true if you wish to migrate the address to another terraform project or modify the range_ids set (current range id of the address must be in the new set).

### Read-Only

- `address` (String) The address that got assigned to the resource.
- `found_in_range` (String) Id of the range the address is in.
- `id` (String) The ID of this resource.
